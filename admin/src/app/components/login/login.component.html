<div class="login-wrapper min-vh-100">
  <div class="container-fluid h-100">
    <div class="row h-100 g-0">
      
      <!-- Columna de Imagen (oculta en mobile) -->
      <div class="col-md-6 col-lg-7 d-none d-md-block">
        <div class="login-image h-100"></div>
      </div>

      <!-- Columna de Formulario -->
      <div class="col-12 col-md-6 col-lg-5 d-flex align-items-center justify-content-center">
        <div class="login-form-container w-100 px-4 px-sm-5 py-5">
          
          <!-- Logo/Brand -->
          <div class="text-center mb-4">
            <div class="login-logo mb-3">
              <i class="fas fa-store text-primary"></i>
            </div>
            <h2 class="fw-bold mb-2">Bienvenido</h2>
            <p class="text-muted mb-0">Ingresa a tu cuenta para continuar</p>
          </div>

          <!-- Formulario -->
          <form #loginForm="ngForm" (ngSubmit)="login(loginForm)" novalidate class="mt-4">
            
            <!-- Email -->
            <div class="mb-3">
              <label for="email" class="form-label fw-medium">
                Correo electrónico
              </label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="correo@ejemplo.com"
                autocomplete="email"
                required
                email
                [(ngModel)]="user.email"
                #email="ngModel"
                [class.is-invalid]="email.invalid && email.touched"
              />
              <div class="invalid-feedback" *ngIf="email.invalid && email.touched">
                <small *ngIf="email.errors?.['required']">El correo es requerido</small>
                <small *ngIf="email.errors?.['email']">Ingresa un correo válido</small>
              </div>
            </div>

            <!-- Password -->
            <div class="mb-4">
              <label for="password" class="form-label fw-medium">
                Contraseña
              </label>
              <div class="input-group">
                <input
                  [type]="passwordFieldType"
                  class="form-control"
                  id="password"
                  name="password"
                  placeholder="Tu contraseña"
                  autocomplete="current-password"
                  required
                  minlength="6"
                  [(ngModel)]="user.password"
                  #password="ngModel"
                  [class.is-invalid]="password.invalid && password.touched"
                />
                <button 
                  class="btn btn-outline-secondary" 
                  type="button"
                  (click)="togglePasswordVisibility()"
                  tabindex="-1"
                  [attr.aria-label]="passwordFieldType === 'password' ? 'Mostrar contraseña' : 'Ocultar contraseña'">
                  <i class="fas" [ngClass]="passwordFieldType === 'password' ? 'fa-eye' : 'fa-eye-slash'"></i>
                </button>
              </div>
              <div class="invalid-feedback d-block" *ngIf="password.invalid && password.touched">
                <small *ngIf="password.errors?.['required']">La contraseña es requerida</small>
                <small *ngIf="password.errors?.['minlength']">Mínimo 6 caracteres</small>
              </div>
            </div>

            <!-- Botón de login -->
            <div class="d-grid">
              <button 
                type="submit" 
                class="btn btn-primary btn-lg"
                [disabled]="loginForm.invalid || load_btn">
                <span *ngIf="!load_btn">
                  <i class="fas fa-sign-in-alt me-2"></i>Iniciar sesión
                </span>
                <span *ngIf="load_btn">
                  <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                  Ingresando...
                </span>
              </button>
            </div>

          </form>

          <!-- Footer -->
          <div class="text-center mt-4 pt-4 border-top">
            <p class="text-muted small mb-0">
              © {{ currentYear }} Sistema de Administración
            </p>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>